<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creating Ubuntu Linux Server VM on Proxmox</title>
    
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #1f2937;
            background-color: #f9fafb;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background-color: #ffffff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        /* Header Styles */
        header {
            margin-bottom: 30px;
            border-bottom: 3px solid #1e88e5;
            padding-bottom: 20px;
        }
        
        h1 {
            font-size: 2rem;
            color: #1e3a8a;
            margin-bottom: 10px;
        }
        
        h2 {
            font-size: 1.5rem;
            color: #1e3a8a;
            margin-top: 30px;
            margin-bottom: 15px;
            border-left: 4px solid #1e88e5;
            padding-left: 12px;
        }
        
        h3 {
            font-size: 1.25rem;
            color: #374151;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        
        /* Video and Transcript Container */
        .media-container {
            display: flex;
            flex-direction: row;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .video-section {
            width: 66%;
            flex-shrink: 0;
        }
        
        .video-container {
            width: 100%;
            height: 0;
            padding-bottom: 56.25%;
            position: relative;
            background-color: #000;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .transcript-section {
            width: 33%;
            flex-shrink: 0;
        }
        
        .transcript-container {
            height: auto;
            overflow-y: auto;
            background-color: #ffffff;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.06);
            padding: 16px;
            border-radius: 8px;
            border: 1px solid #d1d5db;
        }
        
        .transcript-line {
            padding: 8px;
            cursor: pointer;
            border-radius: 6px;
            transition: background-color 0.2s;
            margin-bottom: 4px;
        }
        
        .transcript-line:hover {
            background-color: #f3f4f6;
        }
        
        .transcript-line:focus {
            outline: 2px solid #1e88e5;
            outline-offset: 2px;
        }
        
        .active-transcript-line {
            background-color: #f0f7ff;
            font-weight: 600;
            border-left: 4px solid #1e88e5;
            padding-left: 12px;
            transition: background-color 0.2s;
        }
        
        /* Instructions Section */
        .instructions {
            background-color: #f0f9ff;
            border-left: 4px solid #0284c7;
            padding: 20px;
            border-radius: 6px;
            margin-bottom: 20px;
        }
        
        .instructions p {
            margin-bottom: 10px;
        }
        
        .instructions ul {
            margin-left: 20px;
            margin-top: 10px;
        }
        
        .instructions li {
            margin-bottom: 8px;
        }
        
        /* Commands Section */
        .commands-section {
            background-color: #fefce8;
            border-left: 4px solid #ca8a04;
            padding: 20px;
            border-radius: 6px;
            margin-bottom: 30px;
        }
        
        .command-block {
            background-color: #1f2937;
            color: #f9fafb;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.95rem;
            overflow-x: auto;
            margin-top: 10px;
            position: relative;
        }
        
        .command-block code {
            display: block;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        .copy-button {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #1e88e5;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.875rem;
            transition: background-color 0.2s;
        }
        
        .copy-button:hover {
            background-color: #1565c0;
        }
        
        .copy-button:focus {
            outline: 2px solid #fff;
            outline-offset: 2px;
        }
        
        .copy-button.copied {
            background-color: #059669;
        }
        
        /* Steps List */
        .steps-list {
            counter-reset: step-counter;
            list-style: none;
            margin-left: 0;
        }
        
        .steps-list li {
            counter-increment: step-counter;
            margin-bottom: 20px;
            padding-left: 40px;
            position: relative;
        }
        
        .steps-list li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background-color: #1e88e5;
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.875rem;
        }
        
        /* Note Box */
        .note-box {
            background-color: #fef3c7;
            border: 1px solid #fbbf24;
            padding: 15px;
            border-radius: 6px;
            margin-top: 15px;
        }
        
        .note-box strong {
            color: #92400e;
            display: block;
            margin-bottom: 5px;
        }
        
        .warning-box {
            background-color: #fee2e2;
            border: 1px solid #ef4444;
            padding: 15px;
            border-radius: 6px;
            margin-top: 15px;
        }
        
        .warning-box strong {
            color: #991b1b;
            display: block;
            margin-bottom: 5px;
        }
        
        /* Skip Link for Accessibility */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: #1e88e5;
            color: white;
            padding: 8px;
            text-decoration: none;
            border-radius: 0 0 4px 0;
        }
        
        .skip-link:focus {
            top: 0;
        }
        
        /* Focus Indicators */
        a:focus, button:focus {
            outline: 2px solid #1e88e5;
            outline-offset: 2px;
        }
        
        /* Responsive Text */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }
            
            h2 {
                font-size: 1.25rem;
            }
            
            .container {
                padding: 20px;
            }
            
            .media-container {
                gap: 10px;
            }
            
            .video-section {
                width: 60%;
            }
            
            .transcript-section {
                width: 40%;
            }
            
            .command-block {
                font-size: 0.8rem;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 1.25rem;
            }
            
            .copy-button {
                font-size: 0.75rem;
                padding: 4px 8px;
            }
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <div class="container">
        <header>
            <h1>Creating Ubuntu Linux Server VM on Proxmox</h1>
            <p>Step-by-step guide to creating and configuring an Ubuntu Server virtual machine in Proxmox Virtual Environment.</p>
        </header>
        
        <main id="main-content">
            <!-- Video and Transcript Section -->
            <section aria-labelledby="video-heading">
                <h2 id="video-heading">Video Tutorial</h2>
                
                <div class="media-container">
                    <!-- Video Player Section -->
                    <div class="video-section">
                        <div id="video-container" class="video-container">
                            <iframe 
                                id="youtube-player"
                                src="https://www.youtube.com/embed/zuGNEzdz6eQ?enablejsapi=1"
                                title="Ubuntu Server VM Installation on Proxmox Tutorial"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                referrerpolicy="strict-origin-when-cross-origin"
                                allowfullscreen>
                            </iframe>
                        </div>
                    </div>
                    
                    <!-- Transcript Section -->
                    <div class="transcript-section">
                        <h3 id="transcript-heading">Interactive Transcript</h3>
                        <div id="transcript-container" 
                             class="transcript-container" 
                             role="region" 
                             aria-labelledby="transcript-heading"
                             aria-live="polite">
                            <p style="text-align: center; color: #6b7280;">Loading transcript...</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Overview Section -->
            <section aria-labelledby="overview-heading">
                <h2 id="overview-heading">Overview</h2>
                <div class="instructions">
                    <p>This tutorial guides you through creating an Ubuntu Server virtual machine on Proxmox Virtual Environment (PVE). Ubuntu Server is a popular Linux distribution widely used for web servers, databases, and cloud deployments.</p>
                    
                    <div class="warning-box">
                        <strong>⚠️ Critical Configuration:</strong>
                        When configuring the CPU settings, you MUST set the Processor type to <strong>"host"</strong>. This is required because each Proxmox PVE instance is itself a virtualized instance (nested virtualization).
                    </div>
                    
                    <div class="note-box">
                        <strong>Important - ISO Download Method:</strong>
                        Using <code>wget</code> to download the ISO directly to Proxmox is the most reliable method. Uploading ISO files from your host computer through the Proxmox web GUI has been known to cause corruption issues that can result in installation failures.
                    </div>
                    
                    <div class="note-box">
                        <strong>Prerequisites:</strong>
                        <ul>
                            <li>Access to your Proxmox node (CSC152-student##)</li>
                            <li>Ubuntu Server ISO will be downloaded during setup</li>
                            <li>Basic understanding of VM configuration</li>
                        </ul>
                    </div>
                </div>
            </section>
            
            <!-- Step-by-Step Instructions -->
            <section aria-labelledby="steps-heading">
                <h2 id="steps-heading">Step-by-Step Installation Guide</h2>
                
                <h3>Part 1: Download Ubuntu Server ISO</h3>
                <ol class="steps-list">
                    <li>
                        <strong>Open Proxmox Shell:</strong>
                        <p>In the Proxmox web interface, select your node (e.g., CSC152-student01) and click on "Shell" to open the terminal.</p>
                    </li>
                    
                    <li>
                        <strong>Navigate to ISO storage directory:</strong>
                        <div class="command-block">
                            <button class="copy-button" onclick="copyCommand(this, 'cd /var/lib/vz/template/iso')" aria-label="Copy command to clipboard">Copy</button>
                            <code>cd /var/lib/vz/template/iso</code>
                        </div>
                        <p style="margin-top: 10px;">This directory stores ISO images for VM installations.</p>
                    </li>
                    
                    <li>
                        <strong>Download Ubuntu 24.04 Desktop ISO:</strong>
                        <div class="command-block">
                            <button class="copy-button" onclick="copyCommand(this, 'wget https://releases.ubuntu.com/24.04/ubuntu-24.04.3-desktop-amd64.iso')" aria-label="Copy command to clipboard">Copy</button>
                            <code>wget https://releases.ubuntu.com/24.04/ubuntu-24.04.3-desktop-amd64.iso</code>
                        </div>
                        <p class="note-box" style="margin-top: 10px;">
                            <strong>Note:</strong> The download is approximately 3.3 GB and will take several minutes depending on network speed. The shell will show download progress.
                        </p>
                    </li>
                    
                    <li>
                        <strong>Verify ISO integrity (optional but recommended):</strong>
                        <p>You can verify the downloaded ISO matches the official checksum to ensure it downloaded correctly:</p>
                        <div class="command-block">
                            <button class="copy-button" onclick="copyCommand(this, 'sha256sum -c SHA256SUMS 2>&1 | grep ubuntu-24.04.3-desktop-amd64.iso')" aria-label="Copy command to clipboard">Copy</button>
                            <code>sha256sum -c SHA256SUMS 2>&1 | grep ubuntu-24.04.3-desktop-amd64.iso</code>
                        </div>
                        <p style="margin-top: 10px;">If verification says "OK", the ISO downloaded correctly. You can then close the shell.</p>
                    </li>
                </ol>
                
                <h3>Part 2: Create the Virtual Machine</h3>
                <ol class="steps-list" style="counter-reset: step-counter 4;">
                    <li>
                        <strong>Start VM creation:</strong>
                        <p>In Proxmox, select your node and click "Create VM" in the top right corner.</p>
                    </li>
                    
                    <li>
                        <strong>General settings:</strong>
                        <p>Configure the basic VM identification:</p>
                        <ul style="margin-left: 20px; margin-top: 8px;">
                            <li><strong>VM ID:</strong> 1000 (or your assigned number)</li>
                            <li><strong>Name:</strong> Lab3Ubuntu (or your preferred name)</li>
                            <li><strong>Resource Pool:</strong> Leave blank if not applicable</li>
                        </ul>
                        <p style="margin-top: 10px;">Click <strong>Next</strong>.</p>
                    </li>
                    
                    <li>
                        <strong>Operating System:</strong>
                        <p>Select the Ubuntu ISO:</p>
                        <ul style="margin-left: 20px; margin-top: 8px;">
                            <li><strong>Storage:</strong> local</li>
                            <li><strong>ISO image:</strong> ubuntu-24.04.3-desktop-amd64.iso</li>
                            <li><strong>Guest OS Type:</strong> Linux</li>
                            <li><strong>Version:</strong> 6.x - 2.6 Kernel</li>
                        </ul>
                        <p style="margin-top: 10px;">Click <strong>Next</strong>.</p>
                    </li>
                    
                    <li>
                        <strong>System settings:</strong>
                        <p>Use default system settings:</p>
                        <ul style="margin-left: 20px; margin-top: 8px;">
                            <li><strong>Graphics card:</strong> Default</li>
                            <li><strong>Machine:</strong> Default (i440fx)</li>
                            <li><strong>BIOS:</strong> Default (SeaBIOS)</li>
                            <li><strong>SCSI Controller:</strong> VirtIO SCSI single</li>
                        </ul>
                        <p style="margin-top: 10px;">Click <strong>Next</strong>.</p>
                    </li>
                    
                    <li>
                        <strong>Disk configuration:</strong>
                        <p>Configure the virtual hard disk:</p>
                        <ul style="margin-left: 20px; margin-top: 8px;">
                            <li><strong>Bus/Device:</strong> SCSI</li>
                            <li><strong>Storage:</strong> local-lvm</li>
                            <li><strong>Disk size:</strong> 32 GB</li>
                            <li><strong>Cache:</strong> Default (No cache)</li>
                            <li><strong>☑ Discard:</strong> Enabled (helps with storage efficiency)</li>
                            <li><strong>☑ IO thread:</strong> Enabled (improves performance)</li>
                        </ul>
                        <p style="margin-top: 10px;">Click <strong>Next</strong>.</p>
                    </li>
                    
                    <li>
                        <strong>CPU configuration:</strong>
                        <div class="warning-box">
                            <strong>⚠️ CRITICAL STEP:</strong>
                            <ul style="margin-left: 20px; margin-top: 8px;">
                                <li><strong>Cores:</strong> 2</li>
                                <li><strong>Type:</strong> host (MUST be set to "host" for nested virtualization)</li>
                            </ul>
                            <p style="margin-top: 8px;">Setting the CPU type to "host" allows the VM to use the physical CPU features directly, which is required in nested virtualization environments.</p>
                        </div>
                        <p style="margin-top: 10px;">Click <strong>Next</strong>.</p>
                    </li>
                    
                    <li>
                        <strong>Memory configuration:</strong>
                        <p>Set the RAM allocation:</p>
                        <ul style="margin-left: 20px; margin-top: 8px;">
                            <li><strong>Memory (MiB):</strong> 4096 (4 GB)</li>
                        </ul>
                        <p style="margin-top: 10px;">Click <strong>Next</strong>.</p>
                    </li>
                    
                    <li>
                        <strong>Network configuration:</strong>
                        <p>Configure network interface:</p>
                        <ul style="margin-left: 20px; margin-top: 8px;">
                            <li><strong>Bridge:</strong> vmbr0</li>
                            <li><strong>Model:</strong> VirtIO (paravirtualized)</li>
                        </ul>
                        <p style="margin-top: 10px;">Click <strong>Next</strong>.</p>
                    </li>
                    
                    <li>
                        <strong>Confirm and create:</strong>
                        <p>Review your configuration. Optionally check <strong>"Start after created"</strong> to automatically boot the VM.</p>
                        <p style="margin-top: 10px;">Click <strong>Finish</strong>.</p>
                    </li>
                </ol>
                
                <h3>Part 3: Install Ubuntu Server</h3>
                <ol class="steps-list" style="counter-reset: step-counter 13;">
                    <li>
                        <strong>Access VM console and start installation:</strong>
                        <p>Right-click on your VM (ID 1000) in the left panel and select <strong>Console</strong>. The Ubuntu installer will boot automatically. When you see the language/options screen, select <strong>"Try or Install Ubuntu"</strong> and press Enter.</p>
                    </li>
                    
                    <li>
                        <strong>Language selection:</strong>
                        <p>Select your preferred language (English recommended) and click <strong>Continue</strong>.</p>
                    </li>
                    
                    <li>
                        <strong>Keyboard layout:</strong>
                        <p>Select your keyboard layout (typically "English (US)") and click <strong>Continue</strong>.</p>
                    </li>
                    
                    <li>
                        <strong>Installation type:</strong>
                        <p>Select <strong>"Install Ubuntu Server"</strong> (not "Try Ubuntu") and click <strong>Continue</strong>.</p>
                    </li>
                    
                    <li>
                        <strong>Network configuration:</strong>
                        <p>Configure static IP address for your server:</p>
                        <ul style="margin-left: 20px; margin-top: 8px;">
                            <li>Select your network interface (typically ens18)</li>
                            <li>Choose <strong>"Edit IPv4"</strong></li>
                            <li>Select <strong>"Manual"</strong></li>
                            <li><strong>Subnet:</strong> 10.255.254.0/24</li>
                            <li><strong>Address:</strong> 10.255.254.xxx (use one of your assigned IPs, e.g., 10.255.254.201)</li>
                            <li><strong>Gateway:</strong> 10.255.254.1</li>
                            <li><strong>Name servers:</strong> 10.255.254.1, 8.8.8.8</li>
                            <li><strong>Search domains:</strong> Leave blank</li>
                        </ul>
                        <p style="margin-top: 10px;">Click <strong>Save</strong>, then <strong>Done</strong>.</p>
                        <p class="note-box" style="margin-top: 10px;">
                            <strong>Important:</strong> Replace "xxx" with your assigned static IP number from your instructor. Use one of the 10 IP addresses in your assigned range.
                        </p>
                    </li>
                    
                    <li>
                        <strong>Proxy configuration:</strong>
                        <p>Leave the proxy address empty and click <strong>Done</strong>.</p>
                        <p style="margin-top: 10px;">Wait for the mirror location test to pass (watch for "Mirror location passed tests" message at the top).</p>
                    </li>
                    
                    <li>
                        <strong>Storage configuration:</strong>
                        <p>Configure disk partitioning:</p>
                        <ul style="margin-left: 20px; margin-top: 8px;">
                            <li>Select <strong>"Use an entire disk"</strong></li>
                            <li>Select the 32 GB disk</li>
                            <li>Choose <strong>"Set up this disk as an LVM group"</strong></li>
                            <li>Do NOT encrypt the LVM group</li>
                            <li>Do NOT set up a custom storage layout</li>
                        </ul>
                        <p style="margin-top: 10px;">Click <strong>Done</strong>.</p>
                    </li>
                    
                    <li>
                        <strong>Storage summary:</strong>
                        <p>Review the partition layout. You should see:</p>
                        <ul style="margin-left: 20px; margin-top: 8px;">
                            <li>1 MB GRUB spacer</li>
                            <li>2 GB boot partition</li>
                            <li>~30 GB root volume (remainder of disk)</li>
                        </ul>
                        <p style="margin-top: 10px;">Click <strong>Done</strong>, then <strong>Continue</strong> to confirm.</p>
                    </li>
                    
                    <li>
                        <strong>Profile setup:</strong>
                        <p>Create your user account:</p>
                        <ul style="margin-left: 20px; margin-top: 8px;">
                            <li><strong>Your name:</strong> Enter your name</li>
                            <li><strong>Your server's name:</strong> Lab3Ubuntu (or as specified in your lab)</li>
                            <li><strong>Username:</strong> Choose a username (e.g., admin, student)</li>
                            <li><strong>Password:</strong> Create a strong password</li>
                            <li><strong>Confirm password:</strong> Re-enter the password</li>
                        </ul>
                        <p style="margin-top: 10px;">Click <strong>Done</strong>.</p>
                    </li>
                    
                    <li>
                        <strong>Ubuntu Pro:</strong>
                        <p>Select <strong>"Skip for now"</strong> and click <strong>Continue</strong>.</p>
                    </li>
                    
                    <li>
                        <strong>SSH configuration:</strong>
                        <p>Do NOT install OpenSSH server (leave unchecked). You can install it later if needed, but it's not required since you'll access the VM through Proxmox console.</p>
                        <p style="margin-top: 10px;">Click <strong>Done</strong>.</p>
                    </li>
                    
                    <li>
                        <strong>Featured server snaps:</strong>
                        <p>Do not select any additional packages. Use arrow keys to navigate to <strong>Done</strong> and press Enter.</p>
                    </li>
                    
                    <li>
                        <strong>Begin installation:</strong>
                        <p>The installation will now begin automatically.</p>
                        <p class="note-box" style="margin-top: 10px;">
                            <strong>Note:</strong> The installation will take approximately 4-5 minutes. Watch the orange banner at the top for status updates. When complete, it will say "Installation complete" (this can be hard to see as it's orange text on orange background).
                        </p>
                    </li>
                    
                    <li>
                        <strong>Reboot (will fail initially):</strong>
                        <p>When installation completes, tab to <strong>"Reboot Now"</strong> and press Enter. The reboot will fail because the CD-ROM is still mounted.</p>
                    </li>
                    
                    <li>
                        <strong>Eject installation media:</strong>
                        <p>In Proxmox web interface:</p>
                        <ol style="margin-left: 20px; margin-top: 8px; list-style-type: lower-alpha;">
                            <li>Select your VM in the left panel</li>
                            <li>Click on <strong>Hardware</strong></li>
                            <li>Select the CD/DVD Drive (IDE2)</li>
                            <li>Click <strong>Edit</strong></li>
                            <li>Select <strong>"Do not use any media"</strong></li>
                            <li>Click <strong>OK</strong></li>
                        </ol>
                    </li>
                    
                    <li>
                        <strong>Complete first boot:</strong>
                        <p>Go back to the <strong>Console</strong> tab and press Enter at the failed boot screen. The VM will now boot from the hard drive.</p>
                    </li>
                </ol>
                
                <h3>Part 4: Post-Installation Verification</h3>
                <ol class="steps-list" style="counter-reset: step-counter 28;">
                    <li>
                        <strong>First login:</strong>
                        <p>Wait for the login prompt to appear. Enter your username and password.</p>
                        <p class="note-box" style="margin-top: 10px;">
                            <strong>Note:</strong> When typing your password in Linux, nothing will appear on screen (not even asterisks). Just type it and press Enter.
                        </p>
                    </li>
                    
                    <li>
                        <strong>Check IP address:</strong>
                        <div class="command-block">
                            <button class="copy-button" onclick="copyCommand(this, 'ip addr show')" aria-label="Copy command to clipboard">Copy</button>
                            <code>ip addr show</code>
                        </div>
                        <p style="margin-top: 10px;">Verify your static IP address is correctly configured (should see your configured IP, e.g., 10.255.254.201).</p>
                    </li>
                    
                    <li>
                        <strong>Test internet connectivity:</strong>
                        <div class="command-block">
                            <button class="copy-button" onclick="copyCommand(this, 'ping -c 4 8.8.8.8')" aria-label="Copy command to clipboard">Copy</button>
                            <code>ping -c 4 8.8.8.8</code>
                        </div>
                        <p class="note-box" style="margin-top: 10px;">
                            <strong>Expected result:</strong> You should see 4 packets transmitted and 4 received (0% packet loss), confirming internet access.
                        </p>
                    </li>
                    
                    <li>
                        <strong>Test DNS resolution:</strong>
                        <div class="command-block">
                            <button class="copy-button" onclick="copyCommand(this, 'ping -c 4 google.com')" aria-label="Copy command to clipboard">Copy</button>
                            <code>ping -c 4 google.com</code>
                        </div>
                        <p class="note-box" style="margin-top: 10px;">
                            <strong>Expected result:</strong> The domain name should resolve to an IP address (e.g., 142.250.191.70) and ping successfully, confirming DNS is working.
                        </p>
                    </li>
                    
                    <li>
                        <strong>Exit and shutdown (optional):</strong>
                        <p>Type <code>exit</code> to log out. You can leave the VM running or shut it down from the console menu if you're done using it.</p>
                    </li>
                </ol>
            </section>
            
            <!-- Quick Reference -->
            <section aria-labelledby="reference-heading">
                <h2 id="reference-heading">Quick Reference</h2>
                
                <div class="commands-section">
                    <h3>ISO Download Commands</h3>
                    <div class="command-block">
                        <button class="copy-button" onclick="copyCommand(this, document.getElementById('iso-download').textContent)" aria-label="Copy command to clipboard">Copy</button>
                        <code id="iso-download">cd /var/lib/vz/template/iso
wget https://releases.ubuntu.com/24.04/ubuntu-24.04.3-desktop-amd64.iso</code>
                    </div>
                    
                    <h3 style="margin-top: 20px;">Verification Commands</h3>
                    <div class="command-block">
                        <button class="copy-button" onclick="copyCommand(this, document.getElementById('verify-commands').textContent)" aria-label="Copy verification commands to clipboard">Copy All</button>
                        <code id="verify-commands">ip addr show
ping -c 4 8.8.8.8
ping -c 4 google.com</code>
                    </div>
                    
                    <h3 style="margin-top: 20px;">Key VM Configuration Settings</h3>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>VM ID:</strong> 1000</li>
                        <li><strong>CPU Type:</strong> host (required for nested virtualization)</li>
                        <li><strong>Cores:</strong> 2</li>
                        <li><strong>Memory:</strong> 4096 MB (4 GB)</li>
                        <li><strong>Disk:</strong> 32 GB, SCSI, with Discard and IO thread enabled</li>
                        <li><strong>Network:</strong> vmbr0, VirtIO model</li>
                    </ul>
                    
                    <h3 style="margin-top: 20px;">Network Configuration</h3>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>Method:</strong> Manual (Static IP)</li>
                        <li><strong>Subnet:</strong> 10.255.254.0/24</li>
                        <li><strong>Address:</strong> 10.255.254.xxx (your assigned IP)</li>
                        <li><strong>Gateway:</strong> 10.255.254.1</li>
                        <li><strong>Name servers:</strong> 10.255.254.1, 8.8.8.8</li>
                    </ul>
                </div>
            </section>
            
            <!-- Next Steps -->
            <section aria-labelledby="next-heading">
                <h2 id="next-heading">Next Steps</h2>
                <div class="instructions">
                    <p>After completing this installation:</p>
                    <ul>
                        <li>Update the system: <code>sudo apt update && sudo apt upgrade -y</code></li>
                    </ul>
                    <p style="margin-top: 15px;">The installed system should be ready to complete Lab 3 at this point.</p>
                </div>
            </section>
        </main>
    </div>
    
    <script>
        // CONFIGURATION
        const VIDEO_ID = 'zuGNEzdz6eQ';
        let player;
        let timeUpdater;
        let parsedTranscript = [];

        // VTT CONTENT - Full transcript from uploaded file
        const vttContent = `WEBVTT

00:00.560 --> 00:06.220
Aloha and welcome. So hopefully I got it all worked out in terms of creating our VMs.

00:07.400 --> 00:13.520
Okay, so once you're connected to OpenVPN Connect, and then you can connect to your

00:13.520 --> 00:21.500
remote Proxmox server. And here's mine and I have no VMs. And I know that some of you maybe,

00:22.960 --> 00:27.200
I think I heard somebody mentioned that they couldn't see the summary and the graphs and stuff.

00:27.200 --> 00:32.740
And so what that is, is in this, if you click on your node and you click summary,

00:33.400 --> 00:41.640
you'll have your usage, what's going on. And you can scroll down on this window and you can see

00:41.640 --> 00:49.080
your CPU usage, your server load, your memory usage, and your network traffic. Okay, so this

00:49.080 --> 00:55.960
is all in here. I'm going to expand mine as big as possible. When you do that, then you get the

00:55.960 --> 00:57.180
tabs come out differently.

00:57.200 --> 01:05.300
Depending upon how big your screen is. All right, so what I want to do is I'm going to go

01:05.300 --> 01:12.740
here and show you that. So the local is where your ISO images are and local LVM is where your VMs

01:12.740 --> 01:20.600
are. So I have no VMs on this machine and I have no ISOs on this disk. Okay, now I had a problem.

01:20.600 --> 01:25.400
You know, in class, I downloaded Ubuntu server

01:25.400 --> 01:26.400
directly.

01:27.200 --> 01:30.440
Directly from Ubuntu.

01:35.000 --> 01:35.400
Okay.

01:37.740 --> 01:44.960
All right, and when we did that, I did that, then I uploaded it. And then when I tried to install it,

01:45.800 --> 01:50.520
this is 24.04.3, when I tried to install it, I could not get it to install.

01:50.520 --> 01:56.860
All right, so what I did, what I ended up doing is,

01:57.200 --> 02:01.640
you know, first thing you're going to do is download the ISO image.

02:02.440 --> 02:06.280
And so we're going to do that with a shell command, so open up our shell.

02:06.280 --> 02:08.600
Okay.

02:08.600 --> 02:18.820
And I'll think.

02:18.820 --> 02:27.000
Anyway that's good. Okay so I got my shell, and let me clear this. And the first thing I want to do is I want to go to this,

02:27.000 --> 02:44.400
directory here. So it's in var glib vz template iso. This is the storage, the default storage

02:44.400 --> 02:54.100
location for your iso files. Oops. So there's no, nothing in there. Okay. And then what we want to

02:54.100 --> 03:03.340
do, and I will post this, this will be posted in our, um, in the page that you're viewing this off

03:03.340 --> 03:12.860
of. So you already see there, we're going to do our wget and then our URL to our, the iso image

03:12.860 --> 03:18.340
we want. And this is the server one, not the desktop. So I'm getting the server one. I went

03:18.340 --> 03:27.080
enter and then it will download it remotely. And it'll take however long it takes depending upon,

03:27.140 --> 03:33.500
you know, how fast the internet connection is, how much use is going on. All right. So what I'm

03:33.500 --> 03:39.880
going to do is I'm going to pause my recording until this is done. And then I'll come back when

03:39.880 --> 03:46.300
it's done. All right. So

03:48.340 --> 03:54.340
I'm back in, um, it took about a minute. It didn't take too long to upload to

03:54.340 --> 04:05.640
my server. Right. And so now I can do an LS and I will see it's there. Um, ls-l, oops,

04:08.080 --> 04:15.780
ls-l. And we can see how big it is. It's 3.3 gigs. Okay. Now one thing that

04:15.780 --> 04:18.320
we couldn't do directly,

04:18.340 --> 04:25.280
in class, is we couldn't test if this is, if we got everything and it's a perfect image. And so

04:25.280 --> 04:33.300
what we can do though, because this is a Linux distribution, um, I need to stop this download.

04:33.480 --> 04:42.020
Sorry. Cause I don't need it. But if I go to verify this command here, I can copy this command.

04:43.900 --> 04:48.320
Okay. Um, I use the right click.

04:48.340 --> 05:00.340
Copy. All right. And then if I go back to my shell here, let me, uh, clear this, the shell,

05:00.600 --> 05:05.480
I can right click and paste it in. Now I can't use control V does not work,

05:05.480 --> 05:12.800
but if I right click and paste, it will paste that command in here. And then I get to enter

05:12.800 --> 05:18.140
and run this command because it's a Linux command to start with.

05:18.580 --> 05:23.500
SHA-SUM is already on because it's in the default operating system.

05:23.740 --> 05:30.500
So I've hit enter. It's going to take a little while because it's got to, um, grab the ISO.

05:30.500 --> 05:40.340
It's got to do the SHA-256. Get the number, get the check. Okay. And then it will hopefully come out.

05:40.340 --> 05:44.780
Okay. Okay. So here it did everything and it says okay, meaning

05:45.800 --> 05:46.720
the

05:46.740 --> 05:47.700
um,

05:47.700 --> 05:50.900
SHA-256 of the image that I uploaded,

05:50.900 --> 05:53.660
that's uploaded on my Proxmox server,

05:53.660 --> 05:57.220
matches the SHA-256 of the original image.

05:57.220 --> 05:59.660
So I know I got everything.

05:59.660 --> 06:00.820
Okay.

06:00.820 --> 06:03.360
That's really all I need to do here.

06:03.360 --> 06:04.200
I can exit,

06:05.880 --> 06:07.520
close this.

06:07.520 --> 06:10.260
And then if I go into local,

06:10.260 --> 06:14.880
I will see here's my ISO image.

06:14.880 --> 06:15.720
Okay.

06:15.720 --> 06:16.800
I have an ISO image.

06:16.800 --> 06:20.180
Notice I have my green check mark next to my server,

06:20.180 --> 06:24.760
meaning, hey, you have everything and it's working.

06:24.760 --> 06:27.480
I figured out what my problem was,

06:27.480 --> 06:31.880
and it had to do with SSH keys and the SSH server.

06:31.880 --> 06:34.920
I forgot when I created mine,

06:34.920 --> 06:37.780
which I did for every one of you when I created yours,

06:37.780 --> 06:39.620
I made sure the SSH server was running

06:39.620 --> 06:42.900
and I made sure I regenerated SSH keys,

06:42.900 --> 06:44.780
but I did not do that for myself.

06:44.780 --> 06:46.360
And that's why it wasn't working.

06:46.360 --> 06:46.700
Okay.

06:46.700 --> 06:50.540
So what we're going to do is create the RBM.

06:51.560 --> 06:56.240
And there's only really one special thing we need to do.

06:56.240 --> 06:57.240
Okay.

06:57.240 --> 06:59.940
So give it an ID.

06:59.940 --> 07:03.680
I'm going to use 1000 and then give it a name.

07:03.680 --> 07:07.080
This is my Lab3 Ubuntu.

07:08.400 --> 07:09.240
Okay.

07:09.240 --> 07:10.640
Nothing to do with resource pool.

07:12.260 --> 07:13.200
OS.

07:14.240 --> 07:16.580
Storage is local where that ISO is.

07:16.700 --> 07:18.040
It's on local.

07:18.040 --> 07:24.380
And I can select my Ubuntu Linux 6x-2.6 kernel is the one we want.

07:24.380 --> 07:26.320
It's exactly what we want.

07:26.320 --> 07:34.400
System, just accept the defaults, should be cbios, virtio, scuzzy, single,

07:34.400 --> 07:41.760
and our machine should be the 1440FX default graphics card.

14:22.700 --> 14:23.700
Now you can add your IP address.

14:23.700 --> 14:24.700
I'm going to use 201.

14:24.700 --> 14:30.140
I'm going to use 201.254.20, I mean, .0 slash 24.

14:30.140 --> 14:35.160
Your address 10.255.254, and this is the IP you want to use.

14:35.160 --> 14:37.240
In this case, I'm going to use 201.

14:37.240 --> 14:41.140
I gave you 10 IP addresses to use.

14:41.140 --> 14:43.540
Use one of those 10.

14:43.540 --> 14:44.540
Okay.

14:44.540 --> 14:49.100
Tab or arrow down to gateway 10.255.254.1.

14:49.100 --> 14:50.320
Name server.

14:50.320 --> 15:04.140
one name servers you can use what i use 10.255.254.1 comma 8.8.8.8 okay that's google's

15:04.140 --> 15:06.260
so i use the gateway or

15:06.260 --> 15:14.260
google search domain nothing leave it blank hit save

15:14.260 --> 15:23.060
okay and then go to done and hit done okay so i just set the static ip address

15:23.060 --> 15:32.220
proxy address we leave empty okay now this is checking for so i can do upgrades and updates

15:32.220 --> 15:39.460
and stuff and so you just have to wait until hopefully the little message up at the top says

15:39.460 --> 15:44.240
the mirror passed okay whenever it looks like package reading list kind of thing

15:44.260 --> 15:47.820
you're looking up here the mirror location pass tests

15:47.820 --> 15:52.400
it's excellent then all you want to do is make sure done is selected and hit enter

15:55.280 --> 15:59.080
configuration for storage use the entire disk that's our 32 gig disk

16:00.080 --> 16:05.120
set the disk as an lvm group yes we use local dash lvm so we want lvm group

16:06.040 --> 16:09.080
we don't want to encrypt it and we don't want to set a custom storage so

16:09.840 --> 16:13.760
just use our down arrow to go down to done

16:13.760 --> 16:14.260
and hit enter

16:14.260 --> 16:20.860
enter and then this is just a summary okay and you're really looking for this

16:20.860 --> 16:27.140
Kimio hard drive hard disk 32 gigs you're gonna have a grub spacer of one

16:27.140 --> 16:35.260
mag a new partition two will be two gigs and that'll be our boot partition so

16:35.260 --> 16:39.920
that'll be our grub boot drive and then three will be our actual volume that

16:39.920 --> 16:45.380
we're using which will be the rest of the 32 gigs all right so basically we're

16:45.380 --> 16:52.340
just gonna accept what it has like done and we have to say continue you know

16:52.340 --> 16:56.440
this we really want to take that drive and split it into partitions and do all

16:56.440 --> 17:01.600
this stuff all right then you got to create an account you put a name in

17:01.600 --> 17:06.200
there you can put whatever you want give your server a name I'm gonna use the

17:06.200 --> 17:09.200
same name as I used

17:09.920 --> 17:16.480
when I created it but use whatever I think the lab tells you what to use okay

17:16.480 --> 17:21.980
now I have to create a user I'm gonna create a user you can make it any admin

17:21.980 --> 17:26.980
student whatever you want to make it doesn't matter and then make a password

17:26.980 --> 17:37.280
oops hopefully I did right okay and if you're different if you do do something

17:37.280 --> 17:39.840
different they won't it'll get that match thing

17:39.920 --> 17:49.600
okay got them go down to done skip for now we don't want to go to pro so

17:49.600 --> 17:54.780
continue I'm not going to install it OpenSSH server if I need it I can

17:54.780 --> 18:00.860
install it later normally I don't need it because I'm not remotely accessing

18:00.860 --> 18:06.640
this a VM because I'm gonna go into my proxmox server and access it from there

18:06.640 --> 18:09.780
okay so I'm not going to install it I could

18:09.780 --> 18:15.460
to install it later if i need so i'll just go down to done and enter i'm not going to install any of

18:15.460 --> 18:23.460
this stuff either right so i'm going to use the arrow key done and now it's going to start

18:23.460 --> 18:29.540
installing your system and again i'll pause this because this takes a little bit while this takes

18:29.540 --> 18:35.220
a little while and i'll come back when it's all done and hopefully it's actually successful

18:35.220 --> 18:44.120
all right so that took about i don't know four or five minutes maybe i'm not too long really

18:44.120 --> 18:52.120
the one thing you gotta see in ubuntu is the across the top is orange with white text so

18:52.120 --> 18:58.040
it's not really very clear and that's your message so it'll start with installing the

18:58.120 --> 19:03.500
system and it'll do updating and then when it's all done it'll say installation complete

19:03.500 --> 19:05.200
and that's all

19:05.220 --> 19:13.900
it. It doesn't really like stand out. Okay so once it's done you need to use your

19:16.900 --> 19:23.840
down here. I got to click in there. You can tab and it'll go to full log view

19:23.840 --> 19:28.740
and then down to reboot now. Okay I'm going to show you what happens when you

19:28.740 --> 19:39.780
reboot now. Okay we're gonna reboot now. Boom and we're gonna get failed because

19:39.780 --> 19:44.760
the CD-ROM is still installed. So what you need to do is you need to go over

19:44.760 --> 19:53.060
here to this one. See hardware. Select your VM hardware. Select CD-ROM. Click

19:53.060 --> 19:58.720
edit and then what we're gonna use is don't use any media. Basically eject it.

19:58.740 --> 20:06.360
Say okay and now we'll go back to our boot here and now that we've ejected

20:06.360 --> 20:16.020
let's hit enter and it'll start booting from our hard drive. All right and so

20:16.020 --> 20:20.520
that's basically that's it. Well I'll show you it takes a little bit of grit

20:20.520 --> 20:25.080
to start up and then I'll log in to show you that I can log in with the account I

20:25.080 --> 20:28.340
made and then we'll check the

20:28.740 --> 20:33.860
IP address and we'll also verify that we can get out on the internet. Okay so

20:33.860 --> 20:39.500
the three things we'll do but let's wait for it to. Okay there we are. It's ready

20:39.500 --> 20:46.660
for me to log in. So I could I created that user. I can type my password in. Your

20:46.660 --> 20:50.420
password doesn't show up in in Linux. It doesn't show up at all. It just sits

20:50.420 --> 20:55.160
there blinking. You just type it in and enter. You typed it in right. It'll log

20:55.160 --> 20:58.360
you in if you typed it in wrong. It'll say bad login and you got to do it over.

20:58.740 --> 21:10.740
Okay so let's first do an a IP address show. Okay and you can see in here that

21:10.740 --> 21:22.040
my IP address is 201 which I set. Okay so that's good. Let's double check that our

21:22.900 --> 21:26.180
let's see

21:26.180 --> 21:28.180
it's

21:28.740 --> 21:32.800
PC slash network in

21:32.800 --> 21:43.880
interfaces. Nope. Anyway, doesn't matter. Let's check to make sure that we can get

21:43.880 --> 21:52.820
out of the internet. So let's do a ping dash C of 4 and let's do 8.8.8.8. Can

21:52.820 --> 21:58.660
we get to the DNS server? Google's DNS server. So obviously we're getting

21:58.660 --> 22:05.200
getting out because we're not 8.8.8.8 it's not on our network and then we can also do a ping-c

22:05.200 --> 22:14.460
space 4 to say google.com and that says that shows our dns is working meaning it

22:14.460 --> 22:23.920
the dns system is working for us because it sent out a request what's the ip address for google

22:23.920 --> 22:31.240
it got that back um it got back 142.250.191.70 and then it pinged that

22:31.240 --> 22:39.200
okay so that says we're all set up everything should be working right and so we're pretty happy

22:39.200 --> 22:46.040
okay so then i can exit this terminal window basically log out

22:46.040 --> 22:52.040
okay and then if i want to shut my thing might shut it down i can just click shut down

22:52.040 --> 22:53.900
you know if i don't want to shut it down i can just click shut down

22:53.900 --> 23:00.600
it i'm done using it i can leave it on all the time if you want not a big deal i'm going to shut

23:00.600 --> 23:13.240
mine down okay and that's creating your um lap 3 ubuntu server`;

        // CORE UTILITIES
        function timeToSeconds(timeStr) {
            if (!timeStr) return 0;
            const parts = timeStr.trim().split(':');
            
            if (parts.length === 2) {
                let minutes = parseInt(parts[0]) || 0;
                let seconds = parseFloat(parts[1]) || 0;
                return minutes * 60 + seconds;
            } else if (parts.length === 3) {
                let hours = parseInt(parts[0]) || 0;
                let minutes = parseInt(parts[1]) || 0;
                let seconds = parseFloat(parts[2]) || 0;
                return hours * 3600 + minutes * 60 + seconds;
            }
            return 0;
        }

        function parseVtt(vttText) {
            const cues = vttText.trim().split(/\n\n+/);
            const parsedCues = [];
            
            cues.forEach(cueBlock => {
                if (cueBlock.startsWith('WEBVTT') || cueBlock.trim() === '') return;
                
                const lines = cueBlock.trim().split('\n');
                const timeLine = lines.find(line => line.includes('-->'));
                if (!timeLine) return;

                const [startTimeStr, endTimeStr] = timeLine.split(' --> ');
                const textLines = lines.slice(lines.indexOf(timeLine) + 1);
                
                parsedCues.push({
                    start: timeToSeconds(startTimeStr),
                    end: timeToSeconds(endTimeStr),
                    text: textLines.join(' ').trim()
                });
            });
            return parsedCues;
        }

        // TRANSCRIPT RENDERING AND INTERACTIVITY
        function populateTranscript() {
            const container = document.getElementById('transcript-container');
            container.innerHTML = '';

            parsedTranscript.forEach(cue => {
                const lineElement = document.createElement('div');
                lineElement.className = 'transcript-line';
                lineElement.dataset.start = cue.start;
                lineElement.dataset.end = cue.end;
                lineElement.textContent = cue.text;
                lineElement.setAttribute('role', 'button');
                lineElement.setAttribute('tabindex', '0');
                lineElement.setAttribute('aria-label', 'Seek to ' + Math.floor(cue.start / 60) + ' minutes ' + Math.floor(cue.start % 60) + ' seconds');

                const seekToTime = () => {
                    if (player && player.seekTo) {
                        player.seekTo(cue.start, true);
                        player.playVideo();
                    }
                };
                
                lineElement.addEventListener('click', seekToTime);
                lineElement.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') { 
                        e.preventDefault(); 
                        seekToTime(); 
                    }
                });

                container.appendChild(lineElement);
            });
        }

        // SYNC LOGIC
        function highlightCurrentLine() {
            if (!player || !player.getCurrentTime) return;

            const currentTime = player.getCurrentTime();
            const lines = document.querySelectorAll('#transcript-container .transcript-line');

            lines.forEach(line => {
                const start = parseFloat(line.dataset.start);
                const end = parseFloat(line.dataset.end);

                if (currentTime >= start && currentTime < end) {
                    if (!line.classList.contains('active-transcript-line')) {
                        document.querySelector('.active-transcript-line')?.classList.remove('active-transcript-line');
                        line.classList.add('active-transcript-line');
                        line.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                } else {
                    line.classList.remove('active-transcript-line');
                }
            });
        }

        // HEIGHT SYNCHRONIZATION
        function syncTranscriptHeight() {
            const videoContainer = document.getElementById('video-container');
            const transcriptContainer = document.getElementById('transcript-container');
            
            if (!videoContainer || !transcriptContainer) return;
            
            const videoHeight = videoContainer.offsetHeight;
            transcriptContainer.style.maxHeight = videoHeight + 'px';
        }

        // YOUTUBE API HANDLERS
        window.onYouTubeIframeAPIReady = function() {
            player = new YT.Player('youtube-player', {
                videoId: VIDEO_ID,
                events: {
                    'onStateChange': onPlayerStateChange
                }
            });
        };

        function onPlayerStateChange(event) {
            clearInterval(timeUpdater);
            if (event.data === YT.PlayerState.PLAYING) {
                timeUpdater = setInterval(highlightCurrentLine, 300);
            }
        }

        // COPY COMMAND FUNCTIONALITY
        function copyCommand(button, text) {
            navigator.clipboard.writeText(text).then(() => {
                const originalText = button.textContent;
                button.textContent = 'Copied!';
                button.classList.add('copied');
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.classList.remove('copied');
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy text: ', err);
                alert('Failed to copy command. Please copy manually.');
            });
        }

        // INITIALIZATION
        document.addEventListener('DOMContentLoaded', () => {
            parsedTranscript = parseVtt(vttContent);
            populateTranscript();
            
            setTimeout(syncTranscriptHeight, 100);

            if (typeof(YT) == 'undefined' || typeof(YT.Player) == 'undefined') {
                const tag = document.createElement('script');
                tag.src = "https://www.youtube.com/iframe_api";
                document.head.appendChild(tag);
            } else {
                onYouTubeIframeAPIReady();
            }
        });

        // HANDLE WINDOW RESIZE
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(syncTranscriptHeight, 250);
        });
    </script>
</body>
</html>